---
title: "Creating a Custom Page"
description: "In this topic, you will learn how to create a custom page in your Beacon app."
parent: "OTT Plugins"
layout: "staging"
---
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  Creating the custom page
  Show custom page and css
  Show using data file

  <section class="bcls-section">
    <h2 id="Introduction">Introduction</h2>
    <p>You can add free form pages to your Beacon app by using the <em>Custom Pages</em> element. To create and populate the page with content you:</p>
    <ol>
      <li>Create the pages in Beacon Classic</li>
      <li>Use an <code>if</code> statement to check if the page loaded is your custom page. The condition of the <code>if</code> statement uses the name (slug as it is referred to) of the page.</li>
      <li>Populate and style the page as desired.</li>
    </ol>
    <p>Here is a very simple custom page with the page name <strong>Plugin Custom</strong> with some textual content and one image. The font color and background color are set through the <code>index.css</code> file.</p>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/ott-plugins/custom-pages/page-in-app.png" alt="">
    </figure>
    <h3>Use cases</h3>
    <p>The use cases for a custom page are numerous, but basically anytime you want to have a page that does not fit one you can select from the options in the UI, you can use a custom page. For instance:</p>
    <ul>
      <li>A Beacon app centered around a conference uses a custom page to display the schedule of conference attendees.</li>
      <li></li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Creating_the_custom_page">Creating the custom page</h2>
    <p>You must create the custom page in Beacon Classic. </p>
    <ol class="bcls-tasklist">
      <li>In Beacon Classic:
        <ol type="a">
          <li>In the top navigation click <strong>Pages</strong>.</li>
          <li>Click <strong>Add new page</strong>.</li>
        </ol>
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/ott-plugins/custom-pages/add-new-page-button.png" alt="add new page">
        </figure>
      </li>
      <li>Complete the <em>Basic Data</em> form. You must choose <strong>custom-screen</strong> for the <em>Navigation Type</em>.
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/ott-plugins/custom-pages/ui-basic-data.png" alt="basic data">
        </figure>
      </li>
      <li>Complete the rest of the information on the other tabs as you have done for other pages.</li>
      <li>After you save your page, be sure to record the slug of your created page. Slugs are highlighted in this screenshot:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/ott-plugins/custom-pages/ui-slugs.png" alt="slugs">
        </figure>
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Events">Events</h2>
    <p>The key event action taken when using custom pages is listening for <code>onBeaconPageLoad</code>. The reason is that you will want to listen for that event, then check to see if the page loaded is your custom page. If it is, you will then populate the page with content.</p>
    <pre class="line-numbers"><code class="language-javascript" translate="No">window.addEventListener("message", (event) => {
  const originsAllowed = [
    'https://beacon-web.ott.us-east-1.qa.deploys.brightcove.com'
  ];
  if (originsAllowed.includes(event.origin)) {
    if (event.data.event == 'onBeaconPageLoad') {
      <span class="bcls-highlight">if (event.data.data.slug == '24849-custom-for-plugin')</span> {
        populateCustomPage(pageContent);
      }
    }
  }
},
  false
);</code></pre>
    <p>In this case, <code>populateCustomPage()</code> is a user defined function. This function will be detailed in the next section.</p>
  </section>


  <section class="bcls-section">
    <h2 id="Adding_HTML_content">Adding HTML content</h2>
    <p>The custom page is populated with HTML. The question then becomes, how should the content be generated? There are templating engines built for this purpose, like <a href="https://handlebarsjs.com/">handlebars.js</a>. Search for <em>JavaScript templating engines</em> for alternatives.</p>
    <p>In this doc and over examples in the <em>Beacon Plugins</em> documentation on this site a "brute force" type approach will be taken. This works fine for the simple, short examples shown, but for more complex HTML of greater length a templating engine would most likely be a better fit.</p>
    <p>Once you decide how to build your HTML the next question, is how to place it in the custom page? The key to answering this question is the <code>custom_page_area</code> selector. A <code>&lt;div&gt;</code> is created on the custom page as a target for your HTML.</p>
    <figure class="bcls-figure">
      <img class="bcls-image" src="/assets/images/ott-plugins/custom-pages/console-div.png" alt="div in console">
    </figure>

    <p>The example at the start of this document shows a custom page with some text and an image. Here is the code that generated that page:</p>
    <pre class="line-numbers"><code class="language-javascript" translate="No">var customPageArea = document.getElementById(&apos;custom_page_area&apos;),
  pageContent = &apos;&lt;h2&gt; This is content in the &lt;em&gt;custom page&lt;/em&gt; passed as a parameter from a data file&lt;/h2&gt;&lt;br&gt;&apos;
    + &apos;&lt;p&gt;You can build your HTML in many ways and the page can contain the content you choose. You are NOT limited to the page types shown in the page layout UI.&lt;/p&gt;&lt;br&gt;&apos;
    + &apos;&lt;p&gt;Even use images!&lt;/p&gt;&apos;
    + &apos;&lt;img src=&quot;https://solutions.brightcove.com/bcls/beacon-plugins/yachats-far.png&quot;&gt;&apos;;
customPageArea.insertAdjacentHTML(&apos;afterbegin&apos;, pageContent);</code></pre>
    <p>Here is an explanation of the code:</p>
    <ul>
      <li>Line 1: Assign to a variable the element (which in this case is a <code>&lt;div&gt;</code>) which has an ID of <code>custom_page_area</code>.</li>
      <li>Lines 2-5: Assign to a variable the desired HTML where each line of HTML is a separate string concatenated to the other HTML using the JavaScript concatenation operator (a plus sign). You could also just have all the HTML on a single line, but you cannot use separate lines without the string concatenation.</li>
      <li>Line 6: Assign the HTML to the retrieved <code>&lt;div&gt;</code> using the <code>insertAdjacentHTML()</code> method.</li>
    </ul>
    <aside class="bcls-aside bcls-aside--tip language-editable">The <code>insertAdjacentHTML()</code> method is used because it does not reparse the element it is being used on, and thus it does not corrupt the existing elements inside that element. This avoids the extra step of serialization, making it much faster than direct <code>innerHTML</code> manipulation.</aside>
    <h3>Styling the HTML</h3>
    <p>If you wish to style the HTML you can place the style in the <strong>index.css</strong> file. For instance, the page shown at the top of this document uses this CSS:</p>
    <pre class="line-numbers"><code class="language-css" translate="No">#custom_page_area {
  margin-left: 15px;
  color: darkblue;
  background-color: beige;
}</code></pre>
  </section>


  <section class="bcls-section">
    <h2 id="Module_implementation">Module implementation</h2>
    <p>The following shows how functions using the side panel are implemented using JavaScript modules. Of course, you may implement your JavaScript in the manner of your choice. Further details on this module implementation can be found in the <a href="">Implementing Beacon Plugin Code Using Modules</a> document.</p>
    <p>The following code contains these functions. A brief descriptions is provided for each:</p>
    <ul>
      <li><code>openSidePanel</code>: Dispatches the <code>enablePlayerSidePanel</code> event so the open/hide chevron button is displayed in the player.</li>
      <li><code>enablePlayerSidePanel</code>: Places some example text in the panel. The key concept is locating the <code>div</code> element inside the panel using <br> <code>var panelArea = document.getElementById('player_side_panel_hook');</code></li>
      <li><code>clearSidePanel</code>: Clears the side panel of contents. Note that the viewer closing the side panel does NOT empty the contents, so functionality in this function can be useful.</li>
    </ul>
    <pre class="line-numbers"><code class="language-javascript" translate="No">const openSidePanel = () => {

  window.postMessage({
    event: 'enablePlayerSidePanel',
    data: {}
  }, window.location.origin);

};


const populateSidePanel = () => {

  var panelArea = document.getElementById('player_side_panel_hook');
  var para2 = document.createElement("P");
  var t2 = document.createTextNode("This is in the panel.");
  para2.appendChild(t2);
  panelArea.appendChild(para2);

};


const clearSidePanel = () => {

  var panelArea = document.getElementById('player_side_panel_hook');
  panelArea.innerHTML = '';

};

export { openSidePanel, populateSidePanel, clearSidePanel };</code></pre>
  </section>


</article>